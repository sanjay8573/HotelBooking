@using PagedList.Mvc
@model PagedList.IPagedList<HotelBooking.Model.RoomeTypeImages>
@{
    ViewBag.Title = "RoomTypeImage";
}



<body>

    <div class="row">
        <div class="col-sm-12">
            <div class="card widget-container">
                <div class="heading"> <i class="fa fa-bar-chart-o"></i>Room Types image  <span class="heading-right"><a href="index.html"><i class="fa fa-dashboard"></i> Dashboard</a> <small>&#58; Room Types</small> </span></div>

            </div>
        </div>
    </div>
    @using (Html.BeginForm("AddRoomTypeImage", "Home", FormMethod.Post, new { enctype = "multipart/form-data" }))
    {

        <div class="tab-pane" id="roomtypeImages" aria-expanded="false">
            <!--<h4 class="tabheading"><i class="fa fa-address-card" aria-hidden="true"></i> Account Details</h4>-->
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 pull-left table-responsive">
                    <div class="row">
                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 pull-left">
                            <div class="col-lg-4 col-md-4 col-sm-6 col-12 col-xs-12 pull-left">
                                <label for="edit-mail" class="form-required">Image</label>
                                <input type="file" id="RTImageData" name="RTImageData" class=" full-width">
                                <input type="hidden" id="RoomTypeId" name="RoomTypeId" value="@ViewBag.RoomTypeId" />
                            </div>
                            <div class="col-lg-2 col-md-2 col-sm-6 col-12 col-xs-12 pull-left">
                                <label for="edit-mail" class="form-required">&nbsp;</label>
                                <button type="submit" class="moreaddbtn form-group pull-left"> Save</button>
                                <!--<input type="button" name="AddMore" class="prev action-button" value="Add More" runat="server">-->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    }
    <hr />
    <div class="row">
        <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12 table-responsive weblogtbl">

            <div id="demo" class="carousel slide" data-ride="carousel">
                <ul class="carousel-indicators">
                    @if (Model != null)
                    {
                        int k = 0;

                        foreach (var rt in Model)
                        {
                        if (k == 0) {<li data-target="#demo" data-slide-to="@k" class="active"></li> }
                         else { <li data-target="#demo" data-slide-to=""></li>}
                            
                            
                        }
                    }



                </ul>
                <div class="carousel-inner" role="listbox">
                    @{int i = 0;}
                    @if (Model != null)
                    {

                        foreach (var rt in Model)
                        {
                            i++;
                            var active = i == 1 ? "active" : "";
                            <div class="carousel-item @active">

                                @{
                                    String img641 = Convert.ToBase64String(rt.ImageData);
                                    String img64Url1 = string.Format("data:image/jpeg;base64,{0}", img641); //imagetype can be e.g. gif, jpeg, png etc.
                                }
                                <img style="width:80%;height:80%" src="@img64Url1" alt="">
                            </div>
                        }
                    }
                </div>
                <a class="carousel-control-prev" href="#demo" data-slide="prev">
                    <span class="carousel-control-prev-icon"></span>
                </a>
                <a class="carousel-control-next" href="#demo" data-slide="next">
                    <span class="carousel-control-next-icon"></span>

                </a>
            </div>
           
        </div>
    </div>
    <script type="text/javascript">
    $("#pSize").change(function () {
        var form = $(event.target).parents('form');

        $("#form1").submit();
    });
    $("#pc").change(function () {


        $("#form1").submit();
    });
    </script>
</body>