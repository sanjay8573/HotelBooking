@model HotelBooking.Model.RoomType
@{
    ViewBag.Title = "AddRoomType";
}
<link rel="stylesheet" type="text/css" href="~/css/froala_editor.pkgd.min.css" />

<body>

    <div class="row">
        <div class="col-sm-12">
            <div class="card widget-container">
                <div class="heading"> <i class="fa fa-bar-chart-o"></i>Add Room Types <span class="heading-right"><a href="index.html"><i class="fa fa-dashboard"></i> Dashboard</a> <small>&#58; Room Types</small> </span></div>
                <div class="row" id="panel" style="display: block;">
                    <div class="col-sm-12">
                        <div class="card widget-container">
                            @*<form id="msform"  action="/home/SaveRoomType" method="post" style=" margin:0px auto;">*@
                            @using (Html.BeginForm("SaveRoomType", "Home", FormMethod.Post, new { id = "msform" }))
                            {
                                <div class="tab-container box">
                                    @*<ul class="nav nav-tabs">
                                        <li class="nav-item"><a href="#RoomtypeDetails" data-toggle="tab" class="nav-link active" style="border-right: solid 1px #f5f7fa;" aria-expanded="true">Details</a></li>
                                        <li class="nav-item"><a href="#roomtypeImages" data-toggle="tab" class="nav-link" style="border-right: solid 1px #f5f7fa;" aria-expanded="false">Images</a></li>
                                    </ul>*@
                                    <div class="tab-content">
                                        <div class="tab-pane active" id="RoomtypeDetails" aria-expanded="true">
                                            <div class="row">

                                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 pull-left table-responsive">
                                                    <div class="row">
                                                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 pull-left">
                                                            <div class="col-lg-6 col-md-6 col-sm-6 col-12 col-xs-12 pull-left">
                                                                <label for="@Model.Title" class="form-required">Title</label>

                                                                @Html.TextBoxFor(m => m.Title, new { @class = "full-width ValidateInput", placeholder = "Title", maxlength = "50" })
                                                                @Html.HiddenFor(model => model.RoomTypeId)
                                                            </div>
                                                            @*<div class="col-lg-6 col-md-6 col-sm-6 col-12 col-xs-12 pull-left">
                                                                <label for="@Model.Slug" class="form-required">Slug</label>

                                                                @Html.TextBoxFor(m => m.Slug, new { @class = "full-width", placeholder = "Slug" })
                                                            </div>*@
                                                        </div>
                                                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 pull-left">
                                                            <div class="col-lg-6 col-md-6 col-sm-6 col-12 col-xs-12 pull-left">
                                                                <label for="@Model.ShortCode" class="form-required">Short Code</label>

                                                                @Html.TextBoxFor(m => m.ShortCode, new { @class = "full-width ValidateInput", placeholder = "Short Code", maxlength = "50" })
                                                            </div>
                                                            <div class="col-lg-6 col-md-6 col-sm-6 col-12 col-xs-12 pull-left">
                                                                <label for="edit-mail" class="form-required">&nbsp;</label>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 pull-left">
                                                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 pull-left form-group">
                                                                <label for="@Model.Description" class="form-required">Discription</label>
                                                                @Html.TextAreaFor(m => m.Description, new { @class = "full-width", placeholder = "Description", id = "checkoutmessage" , maxlength = "1000" })
                                                                @*<div id="checkoutmessage"></div>*@
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 pull-left">
                                                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 pull-left form-group">
                                                                <label for="@Model.ShortDescription" class="form-required">Short Discription</label>
                                                                @Html.TextAreaFor(m => m.ShortDescription, new { @class = "full-width", placeholder = "Short Description", id = "ShortDescription", maxlength = "1000" })
                                                                @*<div id="checkoutmessage"></div>*@
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 pull-left">
                                                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 pull-left form-group">
                                                                <label for="@Model.LongDescription" class="form-required">Long Discription</label>
                                                                @Html.TextAreaFor(m => m.LongDescription, new { @class = "full-width", placeholder = "Long Description", id = "LongDescription", maxlength = "1000" })
                                                                @*<div id="checkoutmessage"></div>*@
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 pull-left">
                                                            <div class="col-lg-6 col-md-6 col-sm-6 col-12 col-xs-12 pull-left">
                                                                <label for="@Model.BaseOccupancy" class="form-required">Base Occupancy</label>

                                                                @Html.TextBoxFor(m => m.BaseOccupancy, new { @class = "full-width ValidateInput", placeholder = "Base Occupancy", maxlength = "2", valType = "NumbersOnly" })
                                                            </div>
                                                            <div class="col-lg-6 col-md-6 col-sm-6 col-12 col-xs-12 pull-left">
                                                                <label for="@Model.HighOccupancy  " class="form-required">Higher Occupancy</label>

                                                                @Html.TextBoxFor(m => m.HighOccupancy, new { @class = "full-width ValidateInput", placeholder = "High Occupancy", maxlength = "2", valType = "NumbersOnly" })
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 pull-left">
                                                            
                                                            <div class="col-lg-6 col-md6 col-sm-6 col-xs-12 pull-left">
                                                                
                                                                <ul style="margin-left:-15px" class="unstyled">
                                                                    <li>
                                                                        <input class="styled-checkbox" id="CHK_IEB" name="CHK_IEB" type="checkbox">

                                                                        <label for="CHK_IEB">Extra Bed</label>
                                                                    </li>
                                                                </ul>
                                                                @Html.HiddenFor(model => model.IsExtraBed)

                                                                @*@Html.TextBoxFor(model => model.ExtraBed, new { @class = "full-width",PlaceHolder="Extra Bed Price" })*@
                                                            </div>
                                                            <div class="col-lg-6 col-md-6 col-sm-6 col-12 col-xs-12 pull-left">
                                                                <label for="edit-mail" class="form-required">Amenities</label>
                                                                <ul class="unstyled">
                                                                    @foreach (var item in Model.AmenitiesData)
                                                                    {
                                                                        <li>

                                                                            <input class="styled-checkbox" type="checkbox" value="@item.AmenitiesId" name="CHK_Amenities" id="@item.AmenitiesId" />


                                                                            <label for="@item.AmenitiesId">@Html.Raw(@item.Title)</label>
                                                                        </li>
                                                                    }
                                                                    @Html.HiddenFor(model => model.Amenities)

                                                                </ul>
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-12  col-md-12 col-sm-12 col-xs-12 pull-left">
                                                            <div class="col-lg-6 col-md-6 col-sm-6 col-12 col-xs-12 pull-left">
                                                                <label for="@Model.BasePrice" class="form-required">Base Price</label>

                                                                @Html.TextBoxFor(m => m.BasePrice, new { @class = "full-width ValidateInput", placeholder = "Base Price", maxlength = "5", valType = "NumbersOnly" })
                                                            </div>
                                                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 pull-left">
                                                                <label for="@Model.AdditionalPersonPrice" class="form-required">Additional Person Price</label>

                                                                @Html.TextBoxFor(m => m.AdditionalPersonPrice, new { @class = "full-width ValidateInput", placeholder = "Additional Person Price", maxlength = "7", valType = "NumbersOnly" })
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-12  col-md-12 col-sm-12 col-xs-12 pull-left">
                                                            <div class="col-lg-6 col-md-6 col-sm-6 col-12 col-xs-12 pull-left">
                                                                <label for="@Model.ExtraBedPrice" class="form-required">Extra Bed Price</label>

                                                                @Html.TextBoxFor(m => m.ExtraBedPrice, new { @class = "full-width ValidateInput", placeholder = "Extra Bed Price", maxlength = "7", valType = "NumbersOnly" })
                                                            </div>
                                                            <div class="col-lg-6 col-md-6 col-sm-6 col-12 col-xs-12 pull-left">
                                                                <label for="@Model.inclusion" class="form-required">Inclusion</label>

                                                                @Html.TextBoxFor(m => m.inclusion, new { @class = "full-width", placeholder = "Inclusion", maxlength = "100" })
                                                            </div>

                                                        </div>
                                                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 pull-left">
                                                            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 pull-left form-group">
                                                                <label for="@Model.CancellationPolicy" class="form-required">Cancellation Policy</label>
                                                                @Html.TextAreaFor(m => m.CancellationPolicy, new { @class = "full-width", placeholder = "Cancellation Policy", id = "CancellationPolicy" , maxlength = "500" })
                                                                @*<div id="checkoutmessage"></div>*@
                                                            </div>
                                                        </div>
                                                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12 pull-left">
                                                            <label for="edit-mail" class="form-required">&nbsp;</label>

                                                            <ul class="unstyled">
                                                                <li>
                                                                    <input class="styled-checkbox" id="CHK_ACTIVE" type="checkbox" name="CHK_ACTIVE">
                                                                    <label for="CHK_ACTIVE">Active</label>
                                                                </li>
                                                            </ul>
                                                        </div>
                                                        @Html.HiddenFor(model => model.isActive)
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                        <!--<div class="tab-pane" id="roomtypeImages" aria-expanded="false">-->
                                            <!--<h4 class="tabheading"><i class="fa fa-address-card" aria-hidden="true"></i> Account Details</h4>-->
                                            <!--<div class="row">
                                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 pull-left table-responsive">
                                                    <div class="row">
                                                        <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 pull-left">
                                                            <div class="col-lg-4 col-md-4 col-sm-6 col-12 col-xs-12 pull-left">
                                                                <label for="edit-mail" class="form-required">Image</label>
                                                                <input type="file" name="resUpload" id="RTImageFile" class=" full-width" runat="server">
                                                            </div>
                                                            <div class="col-lg-2 col-md-2 col-sm-6 col-12 col-xs-12 pull-left">
                                                                <label for="edit-mail" class="form-required">&nbsp;</label>
                                                                <button type="submit" class="moreaddbtn form-group pull-left"> Add More</button>-->
                                                                <!--<input type="button" name="AddMore" class="prev action-button" value="Add More" runat="server">-->
                                                            <!--</div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>-->



                                        <button type="submit" class="prev action-button" onclick="return UdpateSelectedAmenities();">Save</button>
                                    </div>
                                </div>
                                @*</form>*@
                            }
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>



    <script src="~js/chartist.min.js" type="text/javascript"></script>
    <script src="~/js/dashboard1.js" type="text/javascript"></script>
    <script type="text/javascript" src="~/js/froala_editor.pkgd.min.js"></script>
    
    <script>
        function myFunction() {
            document.getElementById("panel").style.display = "block";
        }
    </script>

    <script>
       
        function UdpateSelectedAmenities(arg) {
            var abc = ""
            if (!validateBooking()) {
                return false; // Prevent form submission if validation fails
            } else {
                //Iterating the collection of checkboxes which checked marked
                $('input[type=checkbox]').each(function () {
                    console.log(this.name)
                    if (this.name == "CHK_Amenities") {
                        if (this.checked) {
                            abc = abc + $(this).val() + ","
                            //assign set value to hidden field
                            $('#Amenities').val(abc);
                        }
                    }
                    if (this.name == "CHK_ACTIVE") {
                        $('#isActive').val(this.checked);

                    }
                    if (this.name == "CHK_IEB") {
                        $('#IsExtraBed').val(this.checked);

                    }
                });
            }
        }
    </script>

    <script>
        $(document).ready(function () {
            $("input").attr("autocomplete", "none");
            $(".ValidateInput").on("blur", function () {
                validateField(this);
            });
            var AMNTSelected = $('#Amenities').val().split(",");

            $('input[type=checkbox]').each(function () {

                if (this.name == "CHK_Amenities") {

                    if (AMNTSelected.includes('' + this.value + '')) {
                        this.checked = true;
                    }

                }

                if (this.name == "CHK_ACTIVE") {

                    const ic = $('#isActive').val();
                    
                    if (ic == 'True') {
                        $('#CHK_ACTIVE').prop('checked', true)
                        console.log(ic + "  2 " + this.value);
                    }

                }

                if (this.name == "CHK_IEB") {

                    const ic = $('#IsExtraBed').val();

                    if (ic == 'True') {
                        $('#CHK_IEB').prop('checked', true)
                        console.log(ic + "  2 " + this.value);
                    }

                }
            });
        });
        
    </script>
</body>
